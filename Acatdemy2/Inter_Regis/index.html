<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="Pictures/log_1.svg" type="image/x-icon">
    <link rel="stylesheet" href="Styles/plantilla.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!--FONT AWESOME-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--GOOGLE FONTS-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Play&display=swap" rel="stylesheet"> 
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="Js/plantilla.js" defer></script>
    <title>INICIAR SESION</title>
</head>
<body>
    <header class="page-wrapper">
            <div class="nav-wrapper">
                <div class="grad-bar"></div>
                    <nav class="navbar">
                        <a href="#"><img src="Pictures/cambiado.svg" alt="Company Logo" class="lo"></a>
                        <div class="menu-toggle" id="mobile-menu">
                            <span class="bar"></span>
                            <span class="bar"></span>
                            <span class="bar"></span>
                        </div>
                        <ul class="nav no-search">
                            <li class="nav-item" id="ocultar">
                                <img src="Pictures/lupa.svg" height="20px" alt="" id="lupaImagen">
                                <input type="text" id="search-input" class="search-input" placeholder="Buscar curso...">
                                <ul id="suggestions" class="dropdown-content"></ul>
                            </li>
                            <li class="nav-item"><a href="http://167.172.137.234/moodleacatdemi/" id="cursos">Cursos</a></li>
                            <li class="nav-item"><a href="#" id="ayuda">Ayuda</a></li>
                            <li class="nav-item">
                                <div class="dropdown" id="idiomaDropdown">
                                    <a href="#"><span id="idioma">Idioma</span></a>
                                    <div class="dropdown-content">
                                        <div id="ingles" class="dropdown-option" onclick="cambiarIdioma('en')">Inglés</div>
                                        <div id="espanol" class="dropdown-option" onclick="cambiarIdioma('es')">Español</div>
                                        <div id="frances" class="dropdown-option" onclick="cambiarIdioma('fr')">Francés</div>
                                    </div>
                                </div>
                            </li>
                            <li class="nav-item iniciar"><a id="iniciar" href="#">Ingresar</a></li>
                            <li class="nav-item crear"><a id="registrarse" href="#">Registrarse</a></li>
                        </ul>
                    </nav>
                </div>
    </header>
    <main>
        <div class="welcome-section center-text">
            <div class="left-section">
                <div class="text-overlay">
                    <p>¡Bienvenido de nuevo!</p>
                    <p1>Estamos emocionados de tenerte de vuelta. ¡Comienza tu aprendizaje ahora!</p1>
                </div>
                <img src="https://cdn.pixabay.com/photo/2016/03/26/13/09/cup-of-coffee-1280537_1280.jpg" alt="Bienvenido de nuevo">
            </div>
            <div class="right-section">
                <form action="http://167.172.137.234/moodleacatdemi/test/index.php" method="post" id="login">
                    <a href="http://167.172.137.234/moodleacatdemi/">⬅ Regresar</a>
                    <p class="inic">Inicia sesión en tu cuenta</p>
                    <label for="email">Correo Electrónico</label>
                    <input type="text" name="email" id="id_email">
                    <label for="password">Contraseña</label>
                    <input type="password" iid="id_password" name="password">

                    <label for="nombre_usuario">Nombre de Usuario</label>
                    <input type="text" name="username" id="id_username">
                    
                    <label for="nombre">Nombre</label>
                    <input type="text" name="firstname" id="id_firstname">
                    
                    <label for="apellido">Apellido</label>
                    <input type="text" name="lastname" id="id_lastname">
                    
                    <label for="fecha">Fecha de Nacimiento</label>
                    <input type="date" name="fecha" id="fecha">

                    <a href="google.com" class="forgot-password">¿Olvidaste tu contraseña?</a>
                    <button class="blue-button" id="id_submitbutton" type="submit">Guardar cambios</button>
                    <p>O continuar con</p>
                    <div class="button-group">
                        <button class="red-button">Google</button>
                        <button class="blue-button1">Facebook</button>
                    </div>
                    <p>¿Aún no tienes cuenta? <a href="https://www.google.com"  class="create-account">Crear cuenta</a></p>
                </form>
            </div>
        </div>
    </main>
    <footer>
        <div class="footer">

            <div class="row reser">
                <ul>
                    <li id="fo1">© 2023 Acatdemy Todos los derechos reservadoss</li>
                <ul>
                
            </div>
            
            <div class="row">
                <ul>
                    <li id="fo2"><a href="#">Sobre nosotros</a></li>
                    <li id="fo3"><a href="http://167.172.137.234/moodleacatdemi/">Cursos</a></li>
                    <li id="fo4"><a href="#">Términos y condiciones</a></li>
                    <li id="fo5"><a href="#">Políticas sobre cookies</a></li>
                    <li id="fo6"><a href="#">Contáctanos</a></li>
                    <li id="fo7"><a href="#">Ayuda</a></li>
                </ul>
            </div>
            
            <div class="row iconos">
                <a href="https://www.facebook.com/cat.trujillo.edu?mibextid=ZbWKwL"><i class="fa fa-facebook"></i></a>
                <a href="#"><i class="fa fa-instagram"></i></a>
                <a href="#"><i class="fa fa-youtube"></i></a>
                <a href="#"><i class="fa fa-twitter"></i></a>
                </ul>
            </div>
        </div>
    </footer>
    
    
        <script>
            // Array de opciones de sugerencias
            const opciones = ["programacion en python", "redes y topologias", "switch"];
            const lupaImagen = document.getElementById("lupaImagen");

            // Maneja el clic en la imagen de la lupa
            lupaImagen.addEventListener("click", function () {
                const searchInput = document.getElementById("search-input");

                // Activa el input de búsqueda y enfócalo
                searchInput.classList.add("search-active");
                searchInput.focus();
            });
            // Función para mostrar sugerencias
            function mostrarSugerencias(inputValue) {
                const suggestions = opciones.filter((opcion) =>
                    opcion.toLowerCase().includes(inputValue.toLowerCase())
                );

                const suggestionsList = document.getElementById("suggestions");

                // Limpia la lista de sugerencias previas
                suggestionsList.innerHTML = "";

                // Calcula la posición y el ancho de la barra de búsqueda
                const searchInput = document.getElementById("search-input");
                const inputRect = searchInput.getBoundingClientRect();
                const inputWidth = inputRect.width;
                const inputTop = inputRect.bottom;

                // Actualiza la posición de la lista de sugerencias
                suggestionsList.style.width = inputWidth + "px";
                suggestionsList.style.top = inputTop + "px";
                suggestionsList.style.left = inputRect.left + "px";

                // Muestra u oculta la lista de sugerencias según si hay coincidencias
                if (inputValue.length > 0 && suggestions.length > 0) {
                    // Agrega las sugerencias coincidentes a la lista
                    suggestions.forEach((suggestion) => {
                    const listItem = document.createElement("li");
                    listItem.textContent = suggestion;
                    listItem.classList.add("dropdown-option");
                    suggestionsList.appendChild(listItem);
                    });

                    suggestionsList.style.display = "block";
                } else if(inputValue.length === 0) {
                        suggestionsList.style.display = "none"; // Oculta la lista si está vacío
                }else {
                // Si no hay coincidencias, muestra el mensaje "Curso no encontrado"
                const listItem = document.createElement("li");
                listItem.textContent = "Curso no encontrado";
                listItem.classList.add("dropdown-option");
                suggestionsList.appendChild(listItem);
                suggestionsList.style.display = "block";
                }
            }

            // Función para manejar el redireccionamiento
            function redirigirURL(url) {
                window.location.href = url;
            }

            // Maneja el clic en una sugerencia para llenar la barra de búsqueda
            document.getElementById("suggestions").addEventListener("click", function (event) {
                const clickedSuggestion = event.target.textContent;
                this.style.display = "none";

                switch (clickedSuggestion) {
                    case "Curso no encontrado":
                    // Aquí puedes manejar el comportamiento personalizado para "Curso no encontrado"
                    // Por ejemplo, mostrar un mensaje de error o realizar otra acción.
                    break;
                    case "redes y topologias":
                    // Redirige al usuario a cursos.html
                    redirigirURL("cursos.html");
                    break;
                    case "switch":
                    // Redirige al usuario a home.html
                    redirigirURL("home.html");
                    break;
                    case "programacion en python":
                    // Redirige al usuario a google.com
                    redirigirURL("https://www.google.com");
                    break;
                    default:
                    // Por defecto, redirige al usuario a home.html
                    redirigirURL("home.html");
                }
            });

            // Maneja el evento de cambio en el input de búsqueda
            document.getElementById("search-input").addEventListener("input", function () {
                const inputValue = this.value;
                mostrarSugerencias(inputValue);
            });

            // Cerrar la lista de sugerencias si se hace clic en cualquier lugar fuera de ella
            document.addEventListener("click", function (event) {
                if (!event.target.closest(".search-input")) {
                    document.getElementById("suggestions").style.display = "none";
                }
            });

            // PARA EL IDIOMA
            function traducirPlaceholder(idElemento, idioma) {
                const placeholderOriginal = document.getElementById(idElemento).getAttribute("placeholder");
                const urlTraduccion = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${idioma}&dt=t&q=${encodeURIComponent(placeholderOriginal)}`;

                fetch(urlTraduccion)
                    .then(response => response.json())
                    .then(data => {
                        const placeholderTraducido = data[0][0][0];
                        document.getElementById(idElemento).setAttribute("placeholder", placeholderTraducido);
                    })
                    .catch(error => {
                        console.error(`Error al traducir el placeholder de ${idElemento}:`, error);
                    });
            }

            function traducirElemento(idElemento, idioma) {
                const textoOriginal = document.getElementById(idElemento).textContent;
                const urlTraduccion = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${idioma}&dt=t&q=${encodeURIComponent(textoOriginal)}`;

                fetch(urlTraduccion)
                    .then(response => response.json())
                    .then(data => {
                        const textoTraducido = data[0][0][0];
                        document.getElementById(idElemento).textContent = textoTraducido;
                    })
                    .catch(error => {
                        console.error(`Error al traducir ${idElemento}:`, error);
                    });
            }

            function cambiarIdioma(idioma) {
                const elementosTraducibles = {
                    cursos: "cursos",
                    ayuda: "ayuda",
                    buscar: "search-input",
                    idioma: "idioma",
                    espanol: "espanol",
                    frances: "frances",
                    ingles: "ingles",
                    iniciar: "iniciar",
                    registrarse: "registrarse",
                    fo1: "fo1",
                    fo2: "fo2",
                    fo3: "fo3",
                    fo4: "fo4",
                    fo5: "fo5",
                    fo6: "fo6",
                    fo7: "fo7"
                };

                for (const id in elementosTraducibles) {
                    if (id === "buscar") {
                        traducirPlaceholder(elementosTraducibles[id], idioma);
                    } else {
                        traducirElemento(elementosTraducibles[id], idioma);
                    }
                }
            }
        </script>
</body>
</html>
